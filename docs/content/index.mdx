---
title: '介绍'
route: /index
---

这是[omi-wc-demo](https://github.com/McCarthey/omi-wc-demo)组件库的使用文档

## 安装

#### 通过 npm 安装

```
npm i omi-wc-demo
```

#### 使用 yarn 安装

```
yarn add omi-wc-demo
```

## 使用

以[header](/components/header)组件为例，其中header可以监听logout事件：

### Vue 中使用

```jsx
<template>
    <div>
        <dm-header @logout="handleLogout" />
    </div>
</template>

<script>
import 'omi-wc-demo/dist/header/'

export default {
    // ....
    methods: {
        handleLogout() {
            // logoutAPI
        }
    }
}
</script>
```

### React 中使用

注意：在react中使用自定义事件时，需要手动绑定dom事件

或者可以使用[jsx-native-events](https://github.com/calebdwilliams/jsx-native-events#readme)来实现自定义事件。

```jsx
import 'omi-wc-demo/dist/header'

export default class Demo extends React.Component {
    componentDidMount() {
        this.el.addEventListener('logout', this.handleLogout)
    }

    componentWillUnmount() {
        this.el.removeEventListener('logout', this.handleLogout)
    }

    handleLogout = () => {
        // logoutAPI
    }

    render() {
        return (
            <div>
                <dm-header ref={elem => (this.el = elem)} />
            </div>
        )
    }
}

// or 使用 jsx-native-event 这个库
/** @jsx nativeEvents */
import nativeEvents from 'jsx-native-events'
import 'omi-wc-demo/dist/header'

export default class Demo extends React.Component {
    handleLogout = () => {
        // logoutAPI
    }

    render() {
        return (
            <div>
                <dm-header onEventLogout={this.handleLogout} />
            </div>
        )
    }
}
```
